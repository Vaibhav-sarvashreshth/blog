<!doctype html><html lang=en-us><head><title>CSES Graph Questions // Vaibhav's Blogs</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.115.4"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Christopher Hart"><meta name=description content><link rel=stylesheet href=/blog/css/main.min.3c3c186cd62e563ad6e2f00a89dbee656ab912d1d46f856b5605dd0232521e2a.css><meta name=twitter:card content="summary"><meta name=twitter:title content="CSES Graph Questions"><meta name=twitter:description content="List Of Questions: Counting Rooms Counting Rooms Solution Since we're looking for the shortest path from start to end, it's a good idea to use Breadth-first Search (BFS). Start at the position A, and expand in all possible directions (up, down, left, right), but only if the destination cell is accessible (not a wall) and unvisited. While doing BFS, maintain a parent map to keep track of the cell from where we reached the current cell."><meta property="og:title" content="CSES Graph Questions"><meta property="og:description" content="List Of Questions: Counting Rooms Counting Rooms Solution Since we're looking for the shortest path from start to end, it's a good idea to use Breadth-first Search (BFS). Start at the position A, and expand in all possible directions (up, down, left, right), but only if the destination cell is accessible (not a wall) and unvisited. While doing BFS, maintain a parent map to keep track of the cell from where we reached the current cell."><meta property="og:type" content="article"><meta property="og:url" content="https://Vaibhav-sarvashreshth.github.io/blog/posts/graph_cses/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-25T15:10:44+05:30"><meta property="article:modified_time" content="2023-07-25T15:10:44+05:30"></head><body><header class=app-header><a href=https://Vaibhav-sarvashreshth.github.io/blog/><img class=app-header-avatar src=/blog/avatar.jpg alt="Christopher Hart"></a>
<span class=app-header-title>Vaibhav's Blogs</span><nav class=app-header-menu><a class=app-header-menu-item href=/blog/tags/>Tags</a></nav><p>A blog about all things technical.</p><div class=app-header-social><a href=https://github.com/Vaibhav-sarvashreshth target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://github.com/Vaibhav-sarvashreshth target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>Twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>CSES Graph Questions</h1><div class=post-meta><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Jul 25, 2023</div><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 min read</div></div></header><div class=post-content><h2 id=list-of-questions>List Of Questions:</h2><ol><li><a href=#counting-rooms>Counting Rooms</a></li></ol><h2 id=counting-roomshttpscsesfiproblemsettask1192><a href=https://cses.fi/problemset/task/1192>Counting Rooms</a></h2><h2 id=solution>Solution</h2><pre><code>Since we're looking for the shortest path from start to end, it's a good idea to use Breadth-first Search (BFS). Start at the position A, and expand in all possible directions (up, down, left, right), but only if the destination cell is accessible (not a wall) and unvisited.

While doing BFS, maintain a parent map to keep track of the cell from where we reached the current cell. This will help in backtracking to get the path once we reach the end position B.

Once we reach B, we know that BFS gives us the shortest path in an unweighted graph. So, start from B and move towards A using the parent map, and keep storing the direction of movement. This will give us the shortest path.

If we can't reach B, print &quot;NO&quot;.
</code></pre><h2 id=code-in-c>Code in C++</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#pragma GCC optimize(&#34;O3&#34;)
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define ll long long
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define vl vector&lt;ll&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define endl &#34;\n&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define tt ll t; cin&gt;&gt;t; while(t--)
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define mp make_pair
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define pb push_back
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define pf push_front
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define ppb pop_back
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define ppf pop_front
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define fast_io ios::sync_with_stdio(false); cin.tie(0); cout.tie(0)
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define fo(a,b) for(int i=a;i&lt;b;i++)
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define mem1(a) memset(a,-1,sizeof(a))
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define mem0(a) memset(a,-1,sizeof(a))
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define lcm(a,b) (a/__gcd(a,b))*b
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#75715e>//inline ll gcd(ll a, ll b) { return b == 0 ? a : gcd(b, a % b);}
</span></span></span><span style=display:flex><span><span style=color:#75715e>//inline ll lcm(ll a, ll b) { return a * b / gcd(a, b);}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e3</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> dx[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>=</span> { <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> dy[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> kx[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>=</span> { <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> ky[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> vis[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>val</span>(<span style=color:#66d9ef>int</span> r, <span style=color:#66d9ef>int</span> c)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(r<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> r<span style=color:#f92672>&gt;=</span>n <span style=color:#f92672>||</span> c<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> c<span style=color:#f92672>&gt;=</span>m)
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> r, <span style=color:#66d9ef>int</span> c)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	vis[r][c]<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>4</span>;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> nr <span style=color:#f92672>=</span> dx[i]<span style=color:#f92672>+</span>r;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> nc <span style=color:#f92672>=</span> dy[i]<span style=color:#f92672>+</span>c;
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span>(val(nr,nc) <span style=color:#f92672>&amp;&amp;</span> vis[nr][nc]<span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			dfs(nr,nc);
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>solve</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	cin<span style=color:#f92672>&gt;&gt;</span>n<span style=color:#f92672>&gt;&gt;</span>m;
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		string s;
</span></span><span style=display:flex><span>		cin<span style=color:#f92672>&gt;&gt;</span>s;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;j<span style=color:#f92672>&lt;</span>m;j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>char</span> c<span style=color:#f92672>=</span>s[j];
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span>(c<span style=color:#f92672>==</span><span style=color:#e6db74>&#39;#&#39;</span>)
</span></span><span style=display:flex><span>			{
</span></span><span style=display:flex><span>				vis[i][j]<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>				
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>			{
</span></span><span style=display:flex><span>				vis[i][j]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> c <span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;j<span style=color:#f92672>&lt;</span>m;j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span>(vis[i][j]<span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>			{
</span></span><span style=display:flex><span>				c<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>				dfs(i,j);
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	cout<span style=color:#f92672>&lt;&lt;</span> c<span style=color:#f92672>&lt;&lt;</span>endl;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>}	
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	fast_io;
</span></span><span style=display:flex><span>	solve();
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=post-footer></div></article></main></body></html>